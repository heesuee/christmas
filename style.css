:root{
  --bg:#1f2b39;
  --red:#ff3b3b;
  --pink:#ffb3b3;
  --white:#ffffff;
  --gold:#ffe38a;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  background:var(--bg);
  display:grid;
  place-items:center;
  overflow:hidden;
}

.scene{
  width:min(420px, 92vw);
  height:min(520px, 92vh);
  position:relative;
  perspective: 900px; /* 3D 회전 */
}

.tree{
  position:absolute;
  inset:0;
  transform-style:preserve-3d;
  transform-origin:50% 60%;
  animation: spin 10s linear infinite;
}

@keyframes spin{
  from{ transform: translateY(10px) rotateY(0deg); }
  to{   transform: translateY(10px) rotateY(360deg); }
}

/* 점 */
.light{
  position:absolute;
  width: var(--s);
  height: var(--s);
  border-radius: 999px;
  background: var(--c);

  /* JS가 translate3d를 넣어줌 → CSS는 scale/opacity만 */
  transform: translate3d(var(--tx), var(--ty), var(--tz)) scale(1);
  opacity: .85;

  animation: twinkle var(--tw) ease-in-out infinite;
  animation-delay: var(--d);
  will-change: transform, opacity, filter;
}

@keyframes twinkle{
  0%,100%{
    transform: translate3d(var(--tx), var(--ty), var(--tz)) scale(.85);
    opacity:.55;
    filter: drop-shadow(0 0 0 rgba(255,255,255,0));
  }
  50%{
    transform: translate3d(var(--tx), var(--ty), var(--tz)) scale(1.18);
    opacity:1;
    filter: drop-shadow(0 0 12px rgba(255,255,255,.6));
  }
}

/* 별 */
.star{
  position:absolute;
  left:50%;
  top:52px;
  width:22px;
  height:22px;
  transform: translateX(-50%);
  background: var(--gold);
  clip-path: polygon(
    50% 0%, 61% 35%, 98% 35%, 68% 57%,
    79% 91%, 50% 70%, 21% 91%, 32% 57%,
    2% 35%, 39% 35%
  );
  animation: starGlow 1.6s ease-in-out infinite;
}

@keyframes starGlow{
  0%,100%{ transform:translateX(-50%) scale(.95); filter: drop-shadow(0 0 6px rgba(255,227,138,.4)); }
  50%{    transform:translateX(-50%) scale(1.1);  filter: drop-shadow(0 0 16px rgba(255,227,138,.9)); }
}
